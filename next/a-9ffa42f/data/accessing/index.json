{"hash":"d10e6b34f1e7ca6ac717a4a71e066f034ca3886a","data":{"doc":{"title":"üë©‚Äçüíª Accessing the services","content":"<h2 id=\"connecting-locally\"><a href=\"#connecting-locally\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>üíª Connecting locally</h2>\n<p>On Linux, you can access the services from the same machine running eznode by connecting directly to the docker container virtual IP address, which will be shown on startup.</p>\n<p><a href=\"/a-9ffa42f/static/server-urls.bce9b9a.afbc7d2505c9077505e90bcc70e40cf2.png\"><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1773 362' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-80f25cfc5fb7e44d4c90780f6d4a95b6'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-80f25cfc5fb7e44d4c90780f6d4a95b6)' width='1773' height='362' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAANCAYAAAAZr2hsAAAACXBIWXMAAC4jAAAuIwF4pT92AAAF8klEQVRIx32X53YbVwyE/QA5SRyKvYlF7J1cNrFTopotl5P3fxVkPpBLSZacH/fs7i24wGAwID9F43GLJY8jmtCIJ%2bwiFrdIVHOJpJ6x8zOeTPka38eR8Odxf8zHPxdR2UkadplPpFLn9fA8d/DNkxHz/QntTZ%2b/wztf2%2bY9PP%2brrRefkpZMZ3ydEdr%2baFxofIql4lYMIlaaRizXjCqAmN09Pdjz969WLJctXyhYvdmy7c3eCsWila4qdr1c2FW1arVGw6r1uhWvrmw8ndj0em6z%2bczavb4Fk7FN9Z5MZ212PbNMLm%2b94VDvcxuNA63Nbb64tstiyfdV6w3rDwfWaLdtsVpaOpO10WTi9wyDwFabtXUHfcvmL/1cJpeziWy0ul19z225Xlr28tLtcn4uH%2b8eH6zRbNgff/7tiXmdpM%2bRqCfJASiMIg5CtqFNF3G7vb%2bzB4FwVa1ZqaKAZRDHcWQ0HguApfXkDM7Xmk3Nj6zb77uDg9FIawNrddq22m5ssV5ZWTaqAos92BgKgFqj7nPtXtf3szaeTh3gwWho6WzOBto7EbCcn15fW6PV1B0Da3Y6PjeTHwf5%2bvX7s873NFf1pLW0zh0kBdslJaguP3MCCJ9L2lfX3dGQAQ7A%2bAWAw8O9PX559Az3R4HdC0kuWqwWHuDN4WCb3daNtns9vwhWkNlGq6Wg12JAYG1lJ9Aa2cIRAiNjk9lUzEhbWQADLA43lfm1AKvU6jbVekXM4r2jwGAB7OE%2b7GC3KYBhAH7MxAj8wnahVBZzxtaRXySBc54gZ09ed1YdeMD8EABK4PB47wwAuY4ys7vZiU73HiRULpavFMTs5aJuz%2b4e7iwQAClljkAILK6aBgACx5G%2bnnHVJMEuNxubqzS8LBQAAUNdGED5DOQ0VCerAATzAJoM8k7p8Q04lVrN1rudffvxzdlbLJXsr88Rj%2bVz5OI0omcNoQRcq34HwPxELeoIGuMIl8AInlwcZo1sAAI1TEYIljoG9Wa7JYeLHgx7oXhdNYnYMRAohAqGhKLq4ngSMsBmH3tgDO8paUN4lmc6m/U19vOdzGR%2bK3rvRDAWfwtADgAiMVuJVl%2bev7jw7G5vPKNcjAD1JFSeIVEOupPBkdd000WLMuHJHFkCgMVq5VljoB2ACIugJEEitNQ082gOwfyq/OEI53/tEHStj878X/DvAaALiCqrLQB8tc1%2bK2ppbNcOAAJDzW/2Oweg3e3Y/nDrtYkIwRCYgXgFAqGPYDlLOs4URJWOUlWgANeVAPKNraV0Y6dOM5PYQWFvm2FrS760xOgp82HLjKdeWl3YBl%2b3V85RAiFYr%2bn/sQgKSWhPTRMc7wRMRlHR3GVBgjJUvR9ZQPBj6QGUb3S6thdjytKOQTB2FrkqK3jqHOb0XZQCFzMynS8UXUsKChrN4R2g2AvjRs62wUnNKw4oCk/L5AzlBXPYF7blm7uDPUsP2IOPtFkSMjwlhif7AOgdABcCAA1A%2bW9lCEWnFHAIAKAr2Ty2xMDVtO8ZXHmgLc90xdsjas86Quq9X8KIfqAZBILD2CEAbDCPw%2bgJpdLWuf3t3v1AYCkb9gA2etLQHZQMwWOPoLiLeVjIXti3lP/4gmACOEmB0W9LIHgLAAy4EQPo4wAQMoCsBLocxQZZKMvlINuUJlTo7boUTaCFsaeuefoujnSc9sd25szQeS8db2GnjJ5aIFqyVQfiLkBijjsACFZWalUrCBTAJ3j8QJf4wZbJXYqJR12BtawhlpRD%2bKPoXAJkvzSTBrSOJbBRLdJSHp4eJYK3ngHaGoIGgrSapZyi5SFsBIETk/mxrYWAReNJ/wEzcsoOPcsAQsawxy%2b1n//%2b0G%2bOJ88kZUKwDOyiKwBFd8FG4CK79G/u8u4kMLAJ08K2jG7Fk8lzy3stju%2b6gP8XEAjR5HEwSZapR5BDpRm0m/Cg/84%2btSeoxK82nrQzb19Sd54IFvMptaaE0Gc9bGNpf8%2bc21fM22H%2bbIt5Wlr47a3wzV35c2vkia3wfr/7FOBH6v/6%2bz/daMji33GanAAAAABJRU5ErkJggg==' /%3e%3c/svg%3e\" width=\"1773\" height=\"362\" data-srcset=\"/a-9ffa42f/static/server-urls.82a2fbd.afbc7d2505c9077505e90bcc70e40cf2.png 480w, /a-9ffa42f/static/server-urls.cbab2cf.afbc7d2505c9077505e90bcc70e40cf2.png 1024w, /a-9ffa42f/static/server-urls.bce9b9a.afbc7d2505c9077505e90bcc70e40cf2.png 1773w\" data-sizes=\"(max-width: 1773px) 100vw, 1773px\" data-src=\"/a-9ffa42f/static/server-urls.bce9b9a.afbc7d2505c9077505e90bcc70e40cf2.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/a-9ffa42f/static/server-urls.bce9b9a.afbc7d2505c9077505e90bcc70e40cf2.png\" width=\"1773\" height=\"362\"></noscript></a></p>\n<p>You can optionally create an <code class=\"language-text\">ez</code> hostname alias for easier access to the services (for example <a href=\"http://ez:3002/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://ez:3002/</a>) by mounting your hosts file with <code class=\"language-text\">-v /etc/hosts:/ez/hosts</code>. A new entry with the virtual IP address will be added automatically. You can also do this manually:</p>\n<pre class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"<span class=\"token variable\"><span class=\"token variable\">$(</span>docker inspect -f <span class=\"token string\">'{{.NetworkSettings.IPAddress}}'</span> ez<span class=\"token variable\">)</span></span> ez\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> -a /etc/hosts</pre>\n<p>On macOS/Windows, you'll have to publish the ports with <code class=\"language-text\">-p 127.0.0.1:&lt;port&gt;:&lt;port&gt;</code> to make them available through <code class=\"language-text\">localhost</code>. Accessing them through the virtual IP address will <a href=\"https://docs.docker.com/docker-for-mac/networking/#known-limitations-use-cases-and-workarounds\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">not</a> <a href=\"https://docs.docker.com/docker-for-windows/networking/#known-limitations-use-cases-and-workarounds\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">work</a>. For example, to make the block explorer available at <a href=\"http://localhost:3002/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">http://localhost:3002/</a> and the Electrum server at <code class=\"language-text\">127.0.0.1:50001</code>, run:</p>\n<pre class=\"language-bash\">docker run -it -p <span class=\"token number\">127.0</span>.0.1:3002:3002 -p <span class=\"token number\">127.0</span>.0.1:50001:50001 --rm --name ez -v ~/eznode:/data eznode/eznode</pre>\n<p>The ports are: <code class=\"language-text\">8332</code> for the Bitcoin Core RPC, <code class=\"language-text\">50001</code> for the BWT Electrum server, <code class=\"language-text\">3060</code> for the HTTP API, <code class=\"language-text\">3002</code> for the block explorer and <code class=\"language-text\">25441</code> for Specter. They are unencrypted and not suitable for direct access over the internet.</p>\n<h3 id=\"local-lan\"><a href=\"#local-lan\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Local LAN</h3>\n<p>To access the services within a secure LAN, publish the ports on <code class=\"language-text\">0.0.0.0</code> or leave the address unspecified (e.g. <code class=\"language-text\">-p 3002:3002</code>). Note that this will bind on all available interfaces and <a href=\"https://github.com/docker/for-linux/issues/777\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">go right over</a> some software firewalls.</p>\n<p>Depending on how secure you consider your LAN to be, you might want to consider enabling <a href=\"accessing#authentication\">authentication</a> and/or encryption with SSH/SSL.</p>\n<h2 id=\"connecting-remotely\"><a href=\"#connecting-remotely\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>üåê Connecting remotely</h2>\n<p>You can access your eznode remotely using Tor onion services, SSH port tunneling, or SSL. Below is a summary of the pros of cons for each approach.</p>\n<ul>\n<li>\n<p>Tor onion is the easiest to setup on the server's side, because it works behind NATs and firewalls with no special configuration. It provides strong encryption and authentication.</p>\n<p>However, it requires using the Tor client on your end devices (like Orbot for Android) and connecting through the Tor network, which can be quirky at times. The <code class=\"language-text\">TOR_NONANONYMOUS</code> option may somewhat un-quirk it.</p>\n<p>Set <code class=\"language-text\">TOR=1</code> to enable. See <a href=\"transports#tor-onion\">more details and options here</a>.</p>\n</li>\n<li>\n<p>SSH port tunneling can provide strong encryption and authentication using a direct connection to your server. It is the most reliable and the recommended option.</p>\n<p>However, if your server is behind a router or a NAT, you'll need to configure port forwarding so it can accept incoming connections, or use the <a href=\"transports#punch-through-nats-with-a-reverse-ssh-tunnel\">assistance of another server that can</a>. You'll also need an SSH client on your end devices (like ConnectBot for Android). The setup is somewhat more involved compared to Tor.</p>\n<p>Set <code class=\"language-text\">SSHD=1</code> to enable. See <a href=\"transports#dropbear-ssh\">more details and options here</a>.</p>\n</li>\n<li>\n<p>SSL relies on centralized authorities and is the least secure option. It also does not natively provide authentication, making it <em>unsuitable</em> for accessing the (unauthenticated) Electrum server. It can be suitable for the bwt/specter/explorer web servers if <a href=\"accessing#authentication\"><code class=\"language-text\">AUTH_TOKEN</code></a> is enabled.</p>\n<p>On the plus side, SSL works on nearly all end devices with no special software or configuration. But it still requires setting up port forwarding on the server.</p>\n<p>Set <code class=\"language-text\">SSL=1</code> to enable with a self-signed cert, add <code class=\"language-text\">SSL_DOMAIN=mydomain.com</code> to obtain a LetsEncrypt certificate. See <a href=\"transports#nginx-ssl\">more details and options here</a>.</p>\n</li>\n</ul>\n<p>If you're connecting directly to your server's IP address (i.e. not via onion or a <a href=\"transports#punch-through-nats-with-a-reverse-ssh-tunnel\">reverse SSH tunnel</a>) and don't have a static IP address, you can consider using a dynamic DNS service like <a href=\"https://freedns.afraid.org/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">afraid.org</a>.</p>\n<h2 id=\"authentication\"><a href=\"#authentication\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>üîë Authentication</h2>\n<p>You can set <code class=\"language-text\">AUTH_TOKEN=mySecretPassword</code> to enable password authentication for everything <em>except</em> the Electrum server - BWT's HTTP API, BTC RPC Explorer and Specter.</p>\n<blockquote>\n<p>‚ö†Ô∏è Using the Electrum server securely over the internet requires an authentication layer like <a href=\"transports#dropbear-ssh\">SSH</a> or <a href=\"transports#tor-onion\">Tor</a>. An attacker with access to your Electrum server could check whether certain addresses are associated with your wallet, by querying for their history and checking if the server knows about them or not.</p>\n</blockquote>\n<p>If you're only accessing eznode locally or if you're using an authentication layer like Tor or SSH, enabling the password may not be necessary.</p>\n<p>When the NGINX-backed SSL is enabled, NGINX will be configured to authenticate the password before forwarding traffic to the backend web services. This helps protect them against exploitation of security vulnerabilities.</p>\n<p>You can use any username to login, except for the NGINX-based authentication which expects <code class=\"language-text\">satoshi</code>.</p>\n<div class=\"docs-nav\">\n<p><a href=\"getting-started\">‚Üê ‚≠ê Getting started</a></p>\n<p><a href=\"packages\">üéÅ Packages ‚Üí</a></p>\n</div>\n","fileInfo":{"path":"docs/accessing-the-services.md"}}},"context":{}}