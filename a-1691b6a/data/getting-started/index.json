{"hash":"ea9574269f3bedbf4165ac258e1fd55f354f9565","data":{"doc":{"title":"‚ú® Getting started","path":"/getting-started/","date":"15. March 2021","timeToRead":3,"content":"<h2 id=\"quickstart\"><a href=\"#quickstart\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>üöÄ Quickstart</h2>\n<p><a href=\"https://docs.docker.com/get-docker/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Install Docker</a> (the only dependency) and start eznode with the data directory mounted to <code class=\"language-text\">/data</code>:</p>\n<pre class=\"language-bash\">docker run -it --rm --name ez -v ~/eznode:/data eznode/eznode <span class=\"token assign-left variable\">TOR</span><span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token assign-left variable\">XPUB</span><span class=\"token operator\">=</span><span class=\"token operator\">&lt;</span>xpub<span class=\"token operator\">></span></pre>\n<p>This will setup a pruned Bitcoin Core full node, an Electrum server tracking your <code class=\"language-text\">&lt;xpub&gt;</code>, a block explorer and a Tor onion service for secure remote access. All the information you need for accessing them will be shown on startup.</p>\n<p>Change <code class=\"language-text\">~/eznode</code> if you'd like to store the node's data files elsewhere. On Windows, you can use <code class=\"language-text\">$env:AppData\\eznode</code> to store them in <code class=\"language-text\">C:\\Users\\&lt;USER&gt;\\AppData\\Roaming</code>. They require ~4.8GB of free space.</p>\n<p>On Windows/macOS, you'll need to <a href=\"accessing#connecting-locally\">publish the ports with <code class=\"language-text\">-p</code></a> to access them locally.</p>\n<p>Set <code class=\"language-text\">TRUSTED_FASTSYNC=1</code> to enable the <a href=\"packages#fast-sync\"><em>trusted</em> fast-sync</a> mode. You should carefully consider the implications and avoid this if possible.</p>\n<p>To enable Specter Desktop, set <code class=\"language-text\">SPECTER=1</code>.</p>\n<p>To experiment on signet, set <code class=\"language-text\">NETWORK=signet</code>.</p>\n<p>Signature verification instructions <a href=\"signed-images\">are available here</a>.</p>\n<h2 id=\"pruning\"><a href=\"#pruning\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>‚úÇÔ∏è Pruning</h2>\n<p>eznode is pruned by default with prune=550. It'll take up a total of ~4.8GB including the UTXO set and indexes (as of March 2021).</p>\n<p>A pruned node can only scan the recent blocks it still has available for transactions related to your wallet. This makes it primarily suitable for use with newly created wallets.</p>\n<p>There is, however, an opportunity to scan for your wallet's full history during the initial sync of your node, by scanning the blocks before they get pruned. This requires your xpubs/descriptors to be <a href=\"getting-started#configuration\">configured</a> during the initial sync and will not work with <a href=\"packages#fast-sync\">fast-sync</a>.</p>\n<p>Additional xpubs/descriptors added after your node is synced will by default be tracked for new activity only.\nIf you'd like to retain the ability to rescan wallets with historical activity, set <code class=\"language-text\">PRUNE_UNTIL=&lt;yyyy-mm-dd&gt;</code> to keep blocks after the given date or <code class=\"language-text\">PRUNE=0</code> to disable pruning entirely. <em>(Make sure to add these options in your config file so they don't get lost.)</em></p>\n<p>Then, when adding new xpubs/descriptors, you could initiate a rescan by setting <code class=\"language-text\">RESCAN_SINCE=&lt;yyyy-mm-dd&gt;</code> to the wallet creation time (err on the too early side to avoid missing transactions). It will have to be more recent than <code class=\"language-text\">PRUNE_UNTIL</code>.</p>\n<h2 id=\"configuration\"><a href=\"#configuration\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>‚öôÔ∏è Configuration</h2>\n<p>There are no mandatory configurations \\o/, but you'll need to set at least one <code class=\"language-text\">XPUB</code>/<code class=\"language-text\">DESCRIPTOR</code> to use the <a href=\"packages#bitcoin-wallet-tracker\">BWT Electrum server</a>.</p>\n<p>eznode can be configured in several ways:</p>\n<ol>\n<li>\n<p>Using a <code class=\"language-text\">config</code> file with <code class=\"language-text\">KEY=VAL</code> pairs in your data directory (<code class=\"language-text\">~/eznode/config</code>). Example with some common options:</p>\n<pre class=\"language-text\">XPUB=xpub33...\nXPUB_2=xpub44...\nDESCRIPTOR=&#39;wpkh(xpub55.../0/*)&#39;\n\n# Enable authentication (except for Electrum)\nAUTH_TOKEN=mySecretPassword\n\n# Enable *trusted* fast-sync\n# TRUSTED_FASTSYNC=1\n\n# Enable Tor onion service\nTOR=1\n\n# Keep blocks since 2021 to enable wallet rescans\nPRUNE_UNTIL=2021-01-01</pre>\n<blockquote>\n<p>The config file is <code class=\"language-text\">source</code>ed and may contain variables, bash scripting and comments.</p>\n</blockquote>\n</li>\n<li>\n<p>Using a list of <code class=\"language-text\">KEY=VALUE</code> pairs tucked at the end of <code class=\"language-text\">docker run</code>:</p>\n<pre class=\"language-bash\">docker run -it <span class=\"token punctuation\">..</span>. eznode/eznode <span class=\"token assign-left variable\">NETWORK</span><span class=\"token operator\">=</span>signet</pre>\n</li>\n<li>\n<p>Using the standard <code class=\"language-text\">-e</code>/<code class=\"language-text\">--env</code> and <code class=\"language-text\">--env-file</code> arguments for <code class=\"language-text\">docker run</code>:</p>\n<pre class=\"language-bash\">docker run -it <span class=\"token punctuation\">..</span>. -e <span class=\"token assign-left variable\">NETWORK</span><span class=\"token operator\">=</span>signet eznode/eznode</pre>\n</li>\n</ol>\n<p>Global options:</p>\n<ul>\n<li><code class=\"language-text\">NETWORK=bitcoin</code> (or <code class=\"language-text\">signet</code>/<code class=\"language-text\">testnet</code>/<code class=\"language-text\">regtest</code>)</li>\n<li><code class=\"language-text\">AUTH_TOKEN=&lt;none&gt;</code> (enable <a href=\"accessing#authentication\">authentication</a>)</li>\n<li><code class=\"language-text\">VERBOSE=0</code> (increase logs verbosity)</li>\n<li><code class=\"language-text\">BIND_ADDR=&lt;auto&gt;</code> (defaults to the container's virtual address)</li>\n</ul>\n<p>Enable/disable packages:</p>\n<ul>\n<li><code class=\"language-text\">BWT=1</code></li>\n<li><code class=\"language-text\">EXPLORER=1</code></li>\n<li><code class=\"language-text\">SPECTER=0</code></li>\n<li><code class=\"language-text\">TOR=0</code></li>\n<li><code class=\"language-text\">SSHD=0</code></li>\n<li><code class=\"language-text\">SSL=0</code></li>\n</ul>\n<p>See the individual packages for their configuration options.</p>\n<div class=\"docs-nav\"><span></span>\n<p><a href=\"accessing\">üë©‚Äçüíª Accessing the services ‚Üí</a></p>\n</div>\n"}},"context":{}}